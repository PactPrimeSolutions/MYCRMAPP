<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Details</title>
    
    <!-- Load static files library -->
    {% load static %}

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    
    <!-- Include Flatpickr CSS -->
    <link rel="stylesheet" href="{% static 'css/flatpickr.min.css' %}">

    <!-- Include Flatpickr JS -->
    <script src="{% static 'js/flatpickr.min.js' %}"></script>
    
    <!-- Custom JavaScript for Flatpickr -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            flatpickr('.datepicker', {
                dateFormat: 'Y-m-d',  // Customize date format as needed
            });
        });
    </script>
</head>
<body>
    <div class="container mt-5">
        <h1>Business Details</h1>
        
        <!-- Display Success Message -->
        {% if messages %}
            <div class="alert alert-success alert-dismissible fade show" role="alert">
                {% for message in messages %}
                    {{ message }}
                {% endfor %}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        {% endif %}
        
        <!-- Form for Adding Business Details -->
        <form method="post">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit" class="btn btn-primary">Save</button>
        </form>

        <!-- Table to Display Business Details -->
        <table class="table mt-4">
            <thead>
                <tr>
                    <th>SL</th>
                    <th>Batch Type</th>
                    <th>Order No</th>
                    <th>Received On</th>
                    <th>Borrower’s Name 1</th>
                    <th>Borrower’s Name 2</th>
                    <th>Address</th>
                    <th>State</th>
                    <th>Country</th>
                    <th>Loan Amount</th>
                    <th>Organization Date</th>
                    <th>Product</th>
                    <th>Assigned On</th>
                    <th>Status</th>
                    <th>Processor Name</th>
                    <th>Typing</th>
                    <th>Completed On</th>
                    <th>Order</th>
                    <th>Acer</th>
                </tr>
            </thead>
            <tbody>
                {% for detail in business_details %}
                    <tr>
                        <td>{{ detail.sl }}</td>
                        <td>{{ detail.batch_type }}</td>
                        <td>{{ detail.order_no }}</td>
                        <td>{{ detail.received_on }}</td>
                        <td>{{ detail.borrower_name_1 }}</td>
                        <td>{{ detail.borrower_name_2 }}</td>
                        <td>{{ detail.address }}</td>
                        <td>{{ detail.state }}</td>
                        <td>{{ detail.country }}</td>
                        <td>{{ detail.loan_amount }}</td>
                        <td>{{ detail.organization_date }}</td>
                        <td>{{ detail.product }}</td>
                        <td>{{ detail.assigned_on }}</td>
                        <td>{{ detail.status }}</td>
                        <td>{{ detail.processor_name }}</td>
                        <td>{{ detail.typing }}</td>
                        <td>{{ detail.completed_on }}</td>
                        <td>{{ detail.order }}</td>
                        <td>{{ detail.acer }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Bootstrap JS and dependencies -->
    <script src="{% static 'js/jquery-3.5.1.slim.min.js' %}"></script>
    <script src="{% static 'js/popper.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
</body>
</html>
